<!DOCTYPE html>
<html layout:decorate="layouts/layout">
<head>
    <meta id="csrf_token" th:content="${_csrf.token}" th:name="_csrf"/>
    <script src="../static/js/employee.js" th:src="@{/js/employee.js}" type="text/javascript"></script>
    <script crossorigin="anonymous"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/libphonenumber-js@1.7.6/bundle/libphonenumber-max.js"></script>
    <title>ATS</title>
</head>
<body>

<div layout:fragment="content">
    <button class="btn btn-primary" data-target="#form-modal" data-toggle="modal" type="button">Új jelölt felvétele</button>
    <button class="btn btn-primary" type="button" onclick="createRegistration()">Új jelentkezés</button>

    <div class="container">
        <form action="/employee-creator/1" class="container mySpace">
            <div class="form-group mb2">
                <input type="text" class="form-control" name="name" placeholder="Keresés" />
                <input type="submit" value="Search" class="btn btn-primary" />
            </div>
        </form>
        <table class="table table-hover">
            <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Vezetéknév</th>
                <th scope="col">Keresztnév</th>
                <th scope="col">Email</th>
                <th scope="col">Preferált pozíció</th>
                <th scope="col">Preferált szint</th>
                <th scope="col">Preferált telephely</th>
                <th scope="col">Státusz</th>
                <th scope="col">Műveletek</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="jelolt : ${jelolts}">
                <td th:text="${jelolt.id}" class="employee-id"></td>
                <td th:text="${jelolt.firstName}"></td>
                <td th:text="${jelolt.lastName}"></td>
                <td th:text="${jelolt.mail}"></td>
                <td th:text="${jelolt.type.name}"></td>
                <td th:text="${jelolt.level.level}"></td>
                <td th:text="${jelolt.location.city}"></td>
                <td th:text="${jelolt.status}"></td>
                <td>
                    <input class="operation-checkbox" type="checkbox">
                </td>
            </tr>
            </tbody>
        </table>

        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item" th:if="${actualPage} > 1">
                    <a class="page-link" th:href="@{|/employee-creator/${actualPage - 1}|}" tabindex="-1"
                       aria-disabled="true">Vissza</a>
                </li>
                <li class="page-item disabled" th:if="${actualPage} == 1">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Vissza</a>
                </li>
                <th:block th:each="i: ${#numbers.sequence(0, numberOfPages)}">
                    <li class="page-item active" th:if="${actualPage} == ${i + 1}">
                        <a class="page-link" th:text="${i + 1}" th:href="@{|/employee-creator/${i + 1}|}"></a>
                    </li>
                    <li class="page-item" th:if="${actualPage} != ${i + 1}">
                        <a class="page-link" th:text="${i + 1}" th:href="@{|/employee-creator/${i + 1}|}"></a>
                    </li>
                </th:block>
                <li class="page-item" th:if="${actualPage} < ${numberOfPages + 1}">
                    <a class="page-link" th:href="@{|/employee-creator/${actualPage+1}|}">Next</a>
                </li>
                <li class="page-item disabled" th:if="${actualPage} == ${numberOfPages + 1}">
                    <a class="page-link" href="#">Következő</a>
                </li>
            </ul>
        </nav>
    </div>

    <div class="modal fade" id="form-modal" role="dialog" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="model-header">
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h5 class="modal-title">Új jelölt felvétele</h5>
                </div>
                <div class="modal-body">
                    <form action="/create-employee" id="employee-form" method="POST" th:object="${employee}">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="first-name-input">Vezetéknév<span style="color: red">*</span></label>
                                <input class="form-control" id="first-name-input" name="firstName"
                                       th:field="*{firstName}" type="text" required>
                                <div class="invalid-feedback">
                                    Kérlek add meg a jelölt vezetéknevét!
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="last-name-input">Keresztnév<span style="color: red">*</span></label>
                                <input class="form-control" id="last-name-input" name="lastName" th:field="*{lastName}" type="text" required>
                                <div class="invalid-feedback">
                                    Kérlek add meg a jelölt keresztnevét!
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="birth-name-input">Születési név<span style="color: red">*</span></label>
                            <input class="form-control" id="birth-name-input" name="birthName" th:field="*{birthName}" type="text" required>
                            <div class="invalid-feedback">
                                Kérlek add meg a jelölt születési nevét!
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="date-input">Születési dátum<span style="color: red">*</span></label>
                                <input class="form-control" id="date-input" name="birthDay" th:field="*{birthDay}" type="date" required>
                                <div class="invalid-feedback">
                                    Kérlek add meg a jelölt születési dátumát!
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="birthplace-input">Születési hely<span style="color: red">*</span></label>
                                <input class="form-control" id="birthplace-input" name="birthPlace" th:field="*{birthPlace}" type="text" required>
                                <div class="invalid-feedback">
                                    Kérlek add meg a jelölt születési helyét!
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="mother-input">Anyja neve<span style="color: red">*</span></label>
                                <input class="form-control" id="mother-input" name="mother" th:field="*{mother}" type="text" required>
                                <div class="invalid-feedback">
                                    Kérlek add meg az édesanyja nevét!
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="mail-input">Email cím<span style="color: red">*</span></label>
                                <input class="form-control" id="mail-input" name="mail" th:field="*{mail}" type="text" required>
                                <div class="invalid-feedback">
                                    Kérlek adj meg egy érvényes email címet!
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="phone-number-input">Telefonszám</label>
                            <input class="form-control" id="phone-number-input" name="phoneNumber" th:filed="*{phoneNumber}" type="tel"/>
                        </div>
                        <div class="form-group">
                            <label for="status-input">Státusz</label>
                            <input class="form-control" id="status-input" name="status" th:field="*{status}" type="text">
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="job-name-select">Preferált pozíció</label>
                                <select class="form-control" id="job-name-select" name="type" th:field="*{type}">
                                    <option th:each="type : ${types}" th:text="${type.name}"
                                            th:value="${type.id}"></option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="job-level-select">Preferált szint</label>
                                <select class="form-control" id="job-level-select" name="level" th:field="*{level}">
                                    <option th:each="level : ${levels}" th:text="${level.level}" th:value="${level.id}"></option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="job-location-select">Preferált telephely</label>
                                <select class="form-control" id="job-location-select" name="location"
                                        th:field="*{location}">
                                    <option th:each="location : ${locations}" th:text="${location.city}" th:value="${location.id}"></option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cv-input">Önéletrajz</label>
                            <p style="font-size: 11px">Csak .pdf, .doc, .docx kiterjesztésű önéletrajzok tölthetőek fel!</p>
                            <input class="form-control-file" id="cv-input" name="cv" type="file"
                                   accept="application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/pdf, .doc, .docx">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-sm-6 text-left">
                                <p>A csillaggal (<span style="color: red">*</span>) jelölt mezők kitöltése kötelező!</p>
                            </div>
                            <div class="col-sm-6" style="justify-content: flex-end;">
                                <div class="float-right">
                                    <button class="btn btn-secondary" data-dismiss="modal" id="modal-close-button" type="button">Mégse</button>
                                    <button class="btn btn-primary" id="employee-submit" type="button">Mentés</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>